<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Pumpkin</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.2.0/remixicon.min.css" integrity="sha512-MqL4+Io386IOPMKKyplKII0pVW5e+kb+PI/I3N87G3fHIfrgNNsRpzIXEi+0MQC0sR9xZNqZqCYVcC61fL5+Vg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link
        href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
        rel="stylesheet">
    {% block stylesheets %}
            {{ encore_entry_link_tags('admin') }}
            
    {% endblock %}

    {% block javascripts %}
            {{ encore_entry_script_tags('bootstrap') }}
        
            {{ encore_entry_script_tags('admin') }}
            
            
             
    {% endblock %}
<head>
<body class="overflow-hidden" >
<div class="popUp-container">
    <div class="addCustomer-popUp popUp rounded overflow-hidden"  style="display:none;">
        <div class="row p-4 bg-dark text-white"><h3>Add Customer</h3></div>
        <div class="row g-3 p-4 justify-content-center align-items-center">
             <form action="/registre" method="post" class="needs-validation">
                            
                            
                               <div class="field input-field" style="display:flex;justify-content:space-between;">
                            
                            <input type="text" 
                                    placeholder="First Name"  
                                    style="width:47%;" 
                                    name="first_name" 
                                    class="input form-control form-control-lg {{errors.first_name ? 'is-invalid' : ''}}"
                                    value="{{ old.first_name}}"
                                    >
                            
                            <input type="text" 
                                    style="width:47%;"  
                                    placeholder="Last Name" 
                                    name="last_name" 
                                    class="input form-control form-control-lg {{errors.last_name ? 'is-invalid' : ''}}"
                                    value="{{ old.last_name}}"
                                    >   
                        
                        
                        </div>
                       
                            <div class="field input-field">
                                <input  type="text" 
                                        name="email" 
                                        placeholder="Email" 
                                        class="input form-control form-control-lg {{errors.email ? 'is-invalid' : ''}}"
                                        value="{{ old.email}}"
                                        >
                            </div>
                            
                        <div class="field input-field">
                            <input  type="password" 
                                    name="password" 
                                    placeholder="Create password" 
                                    class="password form-control form-control-lg {{errors.password ? 'is-invalid' : ''}}"
                                 
                                    >
                            <i class='bx bx-hide eye-icon'></i>
                        </div>
                       
                     
                        <div class="field input-field">
                            <input  type="password" name="confirmPassword" placeholder="Confirm password" class=" password form-control form-control-lg {{errors.confirmPassword ? 'is-invalid' : ''}}">
                            <i class='bx bx-hide eye-icon'></i>
                        </div>
                       
                                                <div class="field input-field">  

                             <input type="text" 
                                    placeholder="Adress"  
                                    name="adress" 
                                    class="input form-control form-control-lg {{errors.adress ? 'is-invalid' : ''}}"
                                    value="{{ old.adress}}"
                                    >
                        </div>
                       
                         <div class="field input-field">      
                             <input type="date" 
                                    placeholder="birthDate"  
                                    name="birthDate" 
                                    class="input form-control form-control-lg {{errors.birthDate ? 'is-invalid' : ''}}"
                                    value="{{ old.birthDate}}"
                                    >
                        </div>
                        
                        <div class="field button-field text-center ">
                            <button type="submit" class=" btn btn-primary ">Add</button>
                        </div>
                    </form>
        
        
        </div>
    
    </div>
    <div class="editCustomer-popUp popUp rounded overflow-hidden"  style="display:none;">
        <div class="row p-4 bg-dark text-white"><h3>Edit Customer</h3></div>
        <div class="row g-3 p-4 justify-content-center align-items-center">
             <form action="/editUser" method="post" class="needs-validation">
                        <div class="field input-field" style="display:flex;justify-content:space-between;">
                                <h4>Id:</h4>
                                <select  name="id" class="id-select">
                                    {% for i in customers %}
                                        <option value="{{ i.id }}">{{ i.id }}</option>
                                    {% endfor %}
                                </select>
                        </div>
                            
                               <div class="field input-field" style="display:flex;justify-content:space-between;">
                            
                            <input type="text" 
                                    placeholder="First Name"  
                                    style="width:47%;" 
                                    name="first_name" 
                                    class="input form-control form-control-lg {{errors.first_name ? 'is-invalid' : ''}}"
                                    value="{{ old.first_name}}"
                                    >
                            
                            <input type="text" 
                                    style="width:47%;"  
                                    placeholder="Last Name" 
                                    name="last_name" 
                                    class="input form-control form-control-lg {{errors.last_name ? 'is-invalid' : ''}}"
                                    value="{{ old.last_name}}"
                                    >   
                        
                        
                        </div>
                       
                            <div class="field input-field">
                                <input  type="text" 
                                        name="email" 
                                        placeholder="Email" 
                                        class="input form-control form-control-lg {{errors.email ? 'is-invalid' : ''}}"
                                        value="{{ old.email}}"
                                        >
                            </div>
                            
                        <div class="field input-field">
                            <input  type="password" 
                                    name="password" 
                                    placeholder="Create password" 
                                    class="password form-control form-control-lg {{errors.password ? 'is-invalid' : ''}}"
                                 
                                    >
                            <i class='bx bx-hide eye-icon'></i>
                        </div>
                       
                     
                        <div class="field input-field">
                            <input  type="password" name="confirmPassword" placeholder="Confirm password" class=" password form-control form-control-lg {{errors.confirmPassword ? 'is-invalid' : ''}}">
                            <i class='bx bx-hide eye-icon'></i>
                        </div>
                       
                                                <div class="field input-field">  

                             <input type="text" 
                                    placeholder="Adress"  
                                    name="adress" 
                                    class="input form-control form-control-lg {{errors.adress ? 'is-invalid' : ''}}"
                                    value="{{ old.adress}}"
                                    >
                        </div>
                       
                         <div class="field input-field">      
                             <input type="date" 
                                    placeholder="birthDate"  
                                    name="birthDate" 
                                    class="input form-control form-control-lg {{errors.birthDate ? 'is-invalid' : ''}}"
                                    value="{{ old.birthDate}}"
                                    >
                        </div>
                        
                        <div class="field button-field text-center ">
                            <button type="submit" class=" btn btn-primary ">Save</button>
                        </div>
                    </form>
        
        
        </div>
    
    </div>
    <div class="addProduct-popUp popUp rounded overflow-hidden"  style="display:none;">
        <div class="row p-4 bg-dark text-white"><h3>Add Product</h3></div>
        <div class="row g-3 p-4 justify-content-center align-items-center">
             <form action="/addProduct" method="post" class="needs-validation" enctype="multipart/form-data">
              <div class="field input-field">
                                <input  type="file" 
                                        name="thumbnail" 
                                        placeholder="thumbnail" 
                                        class="input form-control form-control-lg "
                                        >
                            </div>
                            <div class="field input-field">
                                <input  type="text" 
                                        name="name" 
                                        placeholder="Name" 
                                        class="input form-control form-control-lg "
                                        >
                            </div>
                            <div class="field input-field"  style="display:flex;justify-content:space-between;">
                                <input  type="text" 
                                        name="regularPrice" 
                                         style="width:47%;"
                                        placeholder="Regular Price" 
                                        class="input form-control form-control-lg "
                                        >
                            
                                <input  type="text" 
                                        name="discountPrice" 
                                         style="width:47%;"
                                        placeholder="Discount Price" 
                                        class="input form-control form-control-lg "
                                        >
                            </div>
                            <div class="field input-field">
                                <input  type="text" 
                                        name="category" 
                                        placeholder="Category" 
                                        class="input form-control form-control-lg "
                                        >
                            </div>
                            <div class="field input-field">
                                <input  type="text" 
                                        name="description" 
                                        placeholder="Description" 
                                        class="input form-control form-control-lg "
                                        >
                            </div>
                        
                            <div class="field input-field">
                                <input  type="number" 
                                        name="quantity" 
                                        placeholder="Stock" 
                                        class="input form-control form-control-lg "
                                        >
                            </div>
                        <div class="field button-field fs-4 text-center ">
                            <button type="submit" class=" btn btn-primary ">Add</button>
                        </div>
                            
              
              </form>
        
        
        </div>
    
    </div>

    <div class="editProduct-popUp popUp rounded overflow-hidden"  style="display:none;">
        <div class="row p-4 bg-dark text-white"><h3>Add Product</h3></div>
        <div class="row g-3 p-4 justify-content-center align-items-center" >
             <form action="/editProduct" method="post" class="needs-validation" enctype="multipart/form-data">
              <div class="field input-field" style="display:flex;justify-content:start;">
                                <h4 >Id: </h4>
                                <select name="id" class="id-select mx-4">
                                    {% for i in products %}
                                        <option value="{{ i.id }}">{{ i.id }}</option>
                                    {% endfor %}
                                </select>
                        </div>
                            
              <div class="field input-field">
                                <input  type="file" 
                                        name="thumbnail" 
                                        placeholder="thumbnail" 
                                        class="input form-control form-control-lg "
                                        >
                            </div>
                            <div class="field input-field">
                                <input  type="text" 
                                        name="name" 
                                        placeholder="Name" 
                                        class="input form-control form-control-lg "
                                        >
                            </div>
                            <div class="field input-field"  style="display:flex;justify-content:space-between;">
                                <input  type="text" 
                                        name="regularPrice" 
                                         style="width:47%;"
                                        placeholder="Regular Price" 
                                        class="input form-control form-control-lg "
                                        >
                            
                                <input  type="text" 
                                        name="discountPrice" 
                                         style="width:47%;"
                                        placeholder="Discount Price" 
                                        class="input form-control form-control-lg "
                                        >
                            </div>
                            <div class="field input-field">
                                <input  type="text" 
                                        name="category" 
                                        placeholder="Category" 
                                        class="input form-control form-control-lg "
                                        >
                            </div>
                            <div class="field input-field">
                                <input  type="text" 
                                        name="description" 
                                        placeholder="Description" 
                                        class="input form-control form-control-lg "
                                        >
                            </div>
                          
                            <div class="field input-field">
                                <input  type="number" 
                                        name="quantity" 
                                        placeholder="Stock" 
                                        class="input form-control form-control-lg "
                                        >
                            </div>
                        <div class="field button-field fs-4 text-center ">
                            <button type="submit" class=" btn btn-primary ">Save</button>
                        </div>
                            
              
              </form>
        
        
        </div>
    
    </div>

    





</div>
<div class="row " style="height:100%;">
   <div class=" side-bar d-flex flex-column flex-shrink-0 p-3 col-2 text-white bg-dark">
    <a href="/" class="d-flex align-items-center mb-2 mb-md-0 me-md-auto mx-2 text-white text-decoration-none">
      <i class="fa-solid fa-user-tie fx-2xl mx-3 fs-3"></i>
      <span class="fs-4">Admin</span>
    </a>
    <hr>
    <ul class="nav nav-pills flex-column mb-auto navbar-list mt-5">
      <li class="nav-item ">
        <a  class="nav-link active  "  name="dashboard" aria-current="page">
          <i class="fa-solid fa-gauge-high mx-2 fa-lg"></i>
          Dashboard
        </a>
      </li>
      <li class="nav-item  ">
        <a  class="nav-link " name="customers" >
          <i class="fa-solid fa-users fx-lg mx-2" ></i> 
          Customers
        </a>
      </li>
      <li class="nav-item  ">
        <a class="nav-link " name="products">
          <i class="fa-solid fa-shirt fx-lg mx-2" ></i>
          Products
        </a>
      </li>
      <li class="nav-item "  >
        <a  class="nav-link " name="orders">
          <i class="fa-solid fa-truck-fast fx-lg mx-2" ></i>
          Orders
        </a>
      </li>
      <li class="nav-item  ">
        <a class="nav-link " name="inbox">
         <i class="fa-solid fa-inbox fx-lg mx-2"></i>
          Inbox
        </a>
      </li>
      <li class="nav-item  ">
        <a class="nav-link " name="settings">
          <i class="fa-solid fa-screwdriver-wrench fx-lg mx-2"></i>
          Settings
        </a>
      </li>
    </ul>
    <hr>
    <div class="dropdown">
      <a  class="d-flex align-items-center text-white text-decoration-none dropdown-toggle" id="dropdownUser1" data-bs-toggle="dropdown" aria-expanded="false">
        <img src="https://github.com/mdo.png" alt="" width="32" height="32" class="rounded-circle me-2">
        <strong>mdo</strong>
      </a>
      <ul class="dropdown-menu dropdown-menu-dark text-small shadow" aria-labelledby="dropdownUser1">
        <li><a class="dropdown-item" href="#">New project...</a></li>
        <li><a class="dropdown-item" href="#">Settings</a></li>
        <li><a class="dropdown-item" href="#">Profile</a></li>
        <li><hr class="dropdown-divider"></li>
        <li><a class="dropdown-item" href="/adminLogOut">Sign out</a></li>
      </ul>
    </div>
  </div>
  <div class=" col-9 mx-5 my-5 p-3 " >
        <div class="container content active-content dashboard" style="height:100%;">
            <div class="row justify-content-around h-10 overflow-hidden top-cards" >
                        <div class="col-xl-3 col-md-6 mb-4" >
                            <div class="card  shadow h-100 py-2" >
                                <div class="card-body">
                                    <div class="row no-gutters align-items-center">
                                        <div class="col mr-2">
                                            <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">
                                                Earnings (Monthly)</div>
                                            <div class="h5 mb-0 font-weight-bold text-gray-800">{{ monthlyEarn|number_format(0, ',') }} Dhs</div>
                                        </div>
                                        <div class="col-auto">
                                            <i class="fas fa-calendar fa-2x text-gray-300"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-xl-3 col-md-6 mb-4">
                            <div class="card border-left-primary shadow h-100 py-2">
                                <div class="card-body">
                                    <div class="row no-gutters align-items-center">
                                        <div class="col mr-2">
                                            <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">
                                                Earnings (Annualy)</div>
                                            <div class="h5 mb-0 font-weight-bold text-gray-800">{{ annualyEarn|number_format(0, ',') }} Dhs</div>
                                        </div>
                                        <div class="col-auto">
                                            <i class="fas fa-dollar-sign fa-2x text-gray-300"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-xl-3 col-md-6 mb-4">
                            <div class="card border-left-primary shadow h-100 py-2">
                                <div class="card-body">
                                    <div class="row no-gutters align-items-center">
                                        <div class="col mr-2">
                                            <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">
                                                EPending Request</div>
                                            <div class="h5 mb-0 font-weight-bold text-gray-800">$40,0</div>
                                        </div>
                                        <div class="col-auto">
                                            <i class="fas fa-comments fa-2x text-gray-300"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-xl-3 col-md-6 mb-4">
                            <div class="card border-left-primary shadow h-100 py-2">
                                <div class="card-body">
                                    <div class="row no-gutters align-items-center">
                                        <div class="col mr-2">
                                            <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">
                                                Products</div>
                                            <div class="h5 mb-0 font-weight-bold text-gray-800">{{ products|length }}</div>
                                        </div>
                                        <div class="col-auto">
                                            <i class="fas fa-shirt fa-2x text-gray-300"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
            </div>
        <div class="row mx-0 px-0"> 
            <div class="card shadow mx-0 px-0 mb-4">
                                <div class="card-header bg-dark text-white py-3">
                                    <h6 class="m-0 font-weight-bold ">Projects</h6>
                                </div>
                                <div class="card-body">
                                    <h4 class="small font-weight-bold">Server Migration <span class="float-right">20%</span></h4>
                                    <div class="progress mb-4">
                                        <div class="progress-bar bg-danger" role="progressbar" style="width: 20%" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                    <h4 class="small font-weight-bold">Sales Tracking <span class="float-right">40%</span></h4>
                                    <div class="progress mb-4">
                                        <div class="progress-bar bg-warning" role="progressbar" style="width: 40%" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                    <h4 class="small font-weight-bold">Customer Database <span class="float-right">60%</span></h4>
                                    <div class="progress mb-4">
                                        <div class="progress-bar" role="progressbar" style="width: 60%" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                    <h4 class="small font-weight-bold">Payout Details <span class="float-right">80%</span></h4>
                                    <div class="progress mb-4">
                                        <div class="progress-bar bg-info" role="progressbar" style="width: 80%" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                    <h4 class="small font-weight-bold">Account Setup <span class="float-right">Complete!</span></h4>
                                    <div class="progress">
                                        <div class="progress-bar bg-success" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                </div>
                            </div>


        </div>
        </div>
        <div class="container content pt-0  customers" >
            <div class="row p-2 bg-dark mb-2 text-white ">
                <h5 class="mt-0">
                  Customers
                </h5>
            </div>
            <div title="Add Cutomer" class="btn-primary addCustomer rounded-cirle addCustomer">
                <i class="fa-solid fa-2xl fa-plus"></i>
          </div>
            <table class="table table-hover table-bordered table-striped ">
                <thead class="thead-dark">
                    <tr >
                        <th scope="col">Id</th>
                        <th scope="col">First Name</th>
                        <th scope="col">Last Name </th>
                        <th scope="col">Email</th>
                        <th scope="col">Creation Date</th>
                        <th scope="col">Action</th>

                    </tr>
                </thead>
                <tbody>
                    {% for i in customers %}
                    <tr>
                        <th scope="row">{{ i.id }}</th>
                        <td>{{ i.firstName }}</td>
                        <td>{{ i.lastName }}</td>
                        <td>{{ i.email }}</td>
                        <td>{{ i.createdAt }}</td>
                        <td>
                            <button title="Edit "  id="{{ i.id }}" class="btn editCustomer">
                                <i class="fa-solid fa-pen"></i>
                            </button>
                            <button class="btn  banCustomer " id="{{ i.id }}" title="Ban">
                                <i class="fa-solid fa-ban"></i>
                            </button>
                            <button class="btn " id="{{ i.id }}"  title="Message">
                                <i class="fa-solid fa-message"></i>
                            </button>
                        </td>
                    </tr>

                    {% endfor %}

                </tbody>
            </table>
            


        </div>
        <div class="container content pt-0  products" >
           <div class="row p-2 bg-dark mb-2 text-white mt-0 ">
                <h5 class="mt-0">
                  Products
                </h5>
            </div>
          <div title="Add Product" class="btn-primary rounded-cirle addProduct">
                <i class="fa-solid fa-2xl fa-plus"></i>
          </div>
             <div class="table-responsive table-wrapper">
            <table class="table table-hover table-bordered table-striped"  >
                <thead class="thead-dark">
                    <tr >
                        <th scope="col">Id</th>
                        <th scope="col">Name</th>
                        <th scope="col">Regular Price</th>
                        <th scope="col">Discount Price</th>
                        <th scope="col">Category</th>
                        <th scope="col">Stock</th>
                        <th scope="col">Added By</th>
                       
                        <th scope="col">Action</th>

                    </tr>
                </thead>
                <tbody >
                    {% for i in products %}
                    <tr>
                        <th scope="row">{{ i.id }}</th>
                        <td>{{ i.name }}</td>
                        <td>{{ i.regularPrice }}</td>
                        <td>{{ i.discountPrice }}</td>
                        <td>{{ i.category }}</td>
                        <td>{{ i.stock }}</td>
                        <td>{{ i.owner }}</td>
                       

                        <td>
                            <button title="Edit" id="{{ i.id }}" class="btn editProduct">
                                <i class="fa-solid fa-pen"></i>
                            </button>
                            <button class="btn removeProduct " id="{{ i.id }}" title="delete ">
                                <i class="fa-solid fa-trash"></i>
                            </button>
                        </td>
                    </tr>

                    {% endfor %}

                </tbody>
            </table>
            </div>
        </div>
        <div class="container content orders overflow-hidden pt-0" >
                <div class="row p-2 bg-dark mt-0 mb-2 text-white ">
                <h5 class="mt-0">
                  Orders
                </h5>
                 </div>
                 <div class="table-responsive table-wrapper">
            <table class="table table-hover table-bordered table-striped"  >
                <thead class="thead-dark">
                    <tr >
                        <th scope="col">Id</th>
                        <th scope="col">User</th>
                        <th scope="col">Purchase Date</th>
                        <th scope="col">Price</th>
                        <th scope="col">Status</th>
                        

                    </tr>
                </thead>
                <tbody >
                    {% for i in orders %}
                    <tr>
                        <th scope="row">{{ i.id }}</th>
                        <td>{{ i.user }}</td>
                        <td>{{ i.purchaseDate }}</td>
                        <td>{{ i.price }} Dhs</td>
                        <td>{{ i.status }}</td>

                       
                       

                        
                    </tr>

                    {% endfor %}

                </tbody>
            </table>
            </div>



        </div>
        <div class="container content inbox" >
          inbox
        </div>
        <div class="container content settings" >
        settings
        </div>
  </div>
</div>
    <script>
      const ctx = document.getElementById("chart").getContext('2d');
      const myChart = new Chart(ctx, {
        type: 'line',
        data: {
          labels: ["Sunday", "Monday", "Tuesday",
          "Wednesday", "Thursday", "Friday", "Saturday"],
          datasets: [{
            label: 'Last week',
            backgroundColor: 'rgba(161, 198, 247, 1)',
            borderColor: 'rgb(47, 128, 237)',
            data: [3000, 4000, 2000, 5000, 8000, 9000, 2000],
          }]
        },
        options: {
          scales: {
            yAxes: [{
              ticks: {
                beginAtZero: true,
              }
            }]
          }
        },
      });
</script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js" integrity="sha384-0pUGZvbkm6XF6gxjEnlmuGrJXVbNuzT9qBBavbLwCsOGabYfZo0T0to5eqruptLy" crossorigin="anonymous"></script>
</body>
</html>
